(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{7402:function(e,t,n){Promise.resolve().then(n.bind(n,7654)),Promise.resolve().then(n.bind(n,2094)),Promise.resolve().then(n.bind(n,4984)),Promise.resolve().then(n.bind(n,9827)),Promise.resolve().then(n.bind(n,4147)),Promise.resolve().then(n.bind(n,2868)),Promise.resolve().then(n.bind(n,7026)),Promise.resolve().then(n.bind(n,1770)),Promise.resolve().then(n.bind(n,6451)),Promise.resolve().then(n.bind(n,8164)),Promise.resolve().then(n.bind(n,1632)),Promise.resolve().then(n.bind(n,3244)),Promise.resolve().then(n.bind(n,7985)),Promise.resolve().then(n.bind(n,7984))},7654:function(e,t,n){"use strict";n.d(t,{default:function(){return y}});var o=n(7437),s=n(9827),a=n(1632),r=n(1770),i=n(3464),l=n(2265),d=n(7648),c=n(299),u=n.n(c);function h(e){let{note:t}=e,n=new Date(t.createdAt).toLocaleDateString();return(0,o.jsxs)(d.default,{href:"/notes/".concat(t.id),className:u().card,children:[(0,o.jsx)("h3",{className:u().title,children:t.title}),(0,o.jsx)("p",{className:u().content,children:t.content}),t.tags&&t.tags.length>0&&(0,o.jsx)("div",{className:u().tags,children:t.tags.map(e=>(0,o.jsx)("span",{className:u().tag,children:e},e))}),(0,o.jsx)("div",{className:u().footer,children:(0,o.jsx)("span",{className:u().date,children:n})})]})}var m=n(4231),_=n.n(m);function g(e){let{notes:t}=e;return(0,o.jsx)("div",{className:_().notesGrid,children:t.map(e=>(0,o.jsx)(h,{note:e},e.id))})}let x=["Todo","Work","Personal","Meeting","Shopping"],N={title:"",content:"",tag:"Todo"};function p(e){let{onSubmit:t,isLoading:n=!1,onClose:s}=e,[a,r]=(0,l.useState)(N),i=(e,t)=>{r(n=>({...n,[e]:t}))};return(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({title:a.title,content:a.content,tags:[a.tag]})},style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"title",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Title"}),(0,o.jsx)("input",{type:"text",id:"title",value:a.title,onChange:e=>i("title",e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ccc",borderRadius:"4px",fontSize:"1rem"},required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"content",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Content"}),(0,o.jsx)("textarea",{id:"content",value:a.content,onChange:e=>i("content",e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ccc",borderRadius:"4px",minHeight:"200px",fontSize:"1rem",resize:"vertical"},required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"tag",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Tag"}),(0,o.jsx)("select",{id:"tag",value:a.tag,onChange:e=>i("tag",e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ccc",borderRadius:"4px",fontSize:"1rem"},children:x.map(e=>(0,o.jsx)("option",{value:e,children:e},e))})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,o.jsx)("button",{type:"submit",disabled:n,style:{background:"#007acc",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"4px",cursor:n?"not-allowed":"pointer",opacity:n?.6:1,fontSize:"1rem",flex:1},children:n?"Creating...":"Create Note"}),(0,o.jsx)("button",{type:"button",onClick:()=>{s()},style:{background:"#6c757d",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",flex:1},children:"Cancel"})]})]})}var b=n(2701),f=n.n(b);function v(e){let{value:t,onChange:n,placeholder:s}=e;return(0,o.jsx)("div",{className:f().searchBox,children:(0,o.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:s,className:f().searchInput})})}function j(e){let{currentPage:t,totalPages:n,onPageChange:s}=e;return(0,o.jsxs)("div",{className:f().paginationContainer,children:[(0,o.jsx)("button",{onClick:()=>s(t-1),disabled:t<=1,className:f().paginationButton,children:"Previous"}),(0,o.jsxs)("span",{className:f().pageInfo,children:["Page ",t," of ",n]}),(0,o.jsx)("button",{onClick:()=>s(t+1),disabled:t>=n,className:f().paginationButton,children:"Next"})]})}function C(e){let{children:t,isOpen:n,onClose:s}=e;return n?(0,o.jsx)("div",{className:f().modalOverlay,onClick:s,children:(0,o.jsx)("div",{className:f().modal,onClick:e=>e.stopPropagation(),children:t})}):null}function y(e){let{tag:t}=e,[n,d]=(0,l.useState)(1),[c,u]=(0,l.useState)(""),[h,m]=(0,l.useState)(""),[_,x]=(0,l.useState)(!1),N=(0,s.useQueryClient)();(0,l.useEffect)(()=>{let e=setTimeout(()=>{m(c),d(1)},300);return()=>clearTimeout(e)},[c]);let{data:b,isLoading:y,error:P}=(0,a.useQuery)({queryKey:["notes",t,h,n],queryFn:async()=>{let e={};return t&&(e.tag=t),h&&(e.search=h),n&&(e.page=n),(await i.Z.get("/api/notes",{params:e})).data},refetchOnMount:!0}),k=(0,r.useMutation)({mutationFn:async e=>(await i.Z.post("/api/notes",e)).data,onSuccess:()=>{x(!1),N.invalidateQueries({queryKey:["notes"]})}}),B=(0,l.useCallback)(e=>{u(e)},[]),S=(0,l.useCallback)(e=>{d(e)},[]),w=(0,l.useCallback)(()=>{x(!0)},[]),A=(0,l.useCallback)(()=>{x(!1)},[]),q=(0,l.useCallback)(e=>{k.mutate(e)},[k]);if(y)return(0,o.jsx)("div",{className:f().loading,children:"Loading..."});if(P)return(0,o.jsx)("div",{className:f().error,children:"Error loading notes"});let O=(null==b?void 0:b.notes)||[],Q=(null==b?void 0:b.totalPages)||0;return(0,o.jsxs)("div",{className:f().container,children:[(0,o.jsxs)("div",{className:f().header,children:[(0,o.jsx)("h1",{className:f().title,children:t?"Notes: ".concat(t):"All Notes"}),(0,o.jsx)("button",{className:f().createButton,onClick:w,children:"Create Note"})]}),(0,o.jsx)("div",{className:f().controls,children:(0,o.jsx)(v,{value:c,onChange:B,placeholder:"Search notes..."})}),(0,o.jsx)(g,{notes:O}),0===O.length&&(0,o.jsx)("p",{className:f().empty,children:h?"No notes found for your search":"No notes found"}),Q>1&&(0,o.jsx)("div",{className:f().pagination,children:(0,o.jsx)(j,{currentPage:n,totalPages:Q,onPageChange:S})}),(0,o.jsx)(C,{isOpen:_,onClose:A,children:(0,o.jsxs)("div",{className:f().modalContent,children:[(0,o.jsxs)("div",{className:f().modalHeader,children:[(0,o.jsx)("h2",{children:"Create New Note"}),(0,o.jsx)("button",{className:f().closeButton,onClick:A,children:"\xd7"})]}),(0,o.jsx)("div",{className:f().modalBody,children:(0,o.jsx)(p,{onSubmit:q,isLoading:k.isPending,onClose:A})})]})})]})}},7648:function(e,t,n){"use strict";n.d(t,{default:function(){return s.a}});var o=n(2972),s=n.n(o)},2701:function(e){e.exports={container:"Notes_container__U4AGV",title:"Notes_title__AyW_4",notesGrid:"Notes_notesGrid__K0eoR",loading:"Notes_loading__K8gOO",error:"Notes_error__IHcjX",empty:"Notes_empty__qgQDP",filters:"Notes_filters__R725c",filterButton:"Notes_filterButton__lbLcB",filterButtonActive:"Notes_filterButtonActive__7sf_j",header:"Notes_header__k9l1A",createButton:"Notes_createButton__L_Lvw"}},299:function(e){e.exports={card:"NoteCard_card__8UkPB",title:"NoteCard_title__N36tJ",content:"NoteCard_content__GdHUh",tags:"NoteCard_tags__QgQQO",tag:"NoteCard_tag__1noUA",footer:"NoteCard_footer__Pt59J",date:"NoteCard_date__eJFNw",actions:"NoteCard_actions__Qic3x",button:"NoteCard_button__nbDcN",deleteButton:"NoteCard_deleteButton__79mwy",editButton:"NoteCard_editButton__dH3Aq",loading:"NoteCard_loading__Wat2g",error:"NoteCard_error__hTWoq"}},4231:function(){}},function(e){e.O(0,[905,972,763,405,784,971,117,744],function(){return e(e.s=7402)}),_N_E=e.O()}]);