(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{7402:function(e,t,n){Promise.resolve().then(n.bind(n,4208)),Promise.resolve().then(n.bind(n,2094)),Promise.resolve().then(n.bind(n,4984)),Promise.resolve().then(n.bind(n,9827)),Promise.resolve().then(n.bind(n,4147)),Promise.resolve().then(n.bind(n,2868)),Promise.resolve().then(n.bind(n,7026)),Promise.resolve().then(n.bind(n,1770)),Promise.resolve().then(n.bind(n,6451)),Promise.resolve().then(n.bind(n,8164)),Promise.resolve().then(n.bind(n,1632)),Promise.resolve().then(n.bind(n,3244)),Promise.resolve().then(n.bind(n,7985)),Promise.resolve().then(n.bind(n,7984))},4208:function(e,t,n){"use strict";n.d(t,{default:function(){return b}});var s=n(7437),a=n(9827),o=n(1632),r=n(1770),i=n(3464),l=n(2265),d=n(7648),c=n(299),u=n.n(c);function h(e){let{note:t}=e,n=new Date(t.createdAt).toLocaleDateString();return(0,s.jsxs)(d.default,{href:"/notes/".concat(t.id),className:u().card,children:[(0,s.jsx)("h3",{className:u().title,children:t.title}),(0,s.jsx)("p",{className:u().content,children:t.content}),t.tags&&t.tags.length>0&&(0,s.jsx)("div",{className:u().tags,children:t.tags.map(e=>(0,s.jsx)("span",{className:u().tag,children:e},e))}),(0,s.jsx)("div",{className:u().footer,children:(0,s.jsx)("span",{className:u().date,children:n})})]})}function _(e){let{onSubmit:t,isLoading:n=!1}=e,[a,o]=(0,l.useState)(""),[r,i]=(0,l.useState)("");return(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({title:a,content:r})},style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Title"}),(0,s.jsx)("input",{type:"text",id:"title",value:a,onChange:e=>o(e.target.value),style:{width:"100%",padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px"},required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"content",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Content"}),(0,s.jsx)("textarea",{id:"content",value:r,onChange:e=>i(e.target.value),style:{width:"100%",padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px",minHeight:"150px"},required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:n,style:{background:"#007acc",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"4px",cursor:n?"not-allowed":"pointer",opacity:n?.6:1},children:n?"Creating...":"Create Note"})]})}var m=n(2701),N=n.n(m);function x(e){let{value:t,onChange:n,placeholder:a}=e;return(0,s.jsx)("div",{className:N().searchBox,children:(0,s.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:a,className:N().searchInput})})}function g(e){let{currentPage:t,totalPages:n,onPageChange:a}=e;return(0,s.jsxs)("div",{className:N().paginationContainer,children:[(0,s.jsx)("button",{onClick:()=>a(t-1),disabled:t<=1,className:N().paginationButton,children:"Previous"}),(0,s.jsxs)("span",{className:N().pageInfo,children:["Page ",t," of ",n]}),(0,s.jsx)("button",{onClick:()=>a(t+1),disabled:t>=n,className:N().paginationButton,children:"Next"})]})}function v(e){let{children:t,isOpen:n}=e;return n?(0,s.jsx)("div",{className:N().modalOverlay,children:(0,s.jsx)("div",{className:N().modal,children:t})}):null}function b(e){let{tag:t}=e,[n,d]=(0,l.useState)(1),[c,u]=(0,l.useState)(""),[m,b]=(0,l.useState)(""),[p,f]=(0,l.useState)(!1),j=(0,a.useQueryClient)();(0,l.useEffect)(()=>{let e=setTimeout(()=>{b(c),d(1)},300);return()=>clearTimeout(e)},[c]);let{data:C,isLoading:y,error:P}=(0,o.useQuery)({queryKey:["notes",t,m,n],queryFn:async()=>{let e={};return t&&(e.tag=t),m&&(e.search=m),n&&(e.page=n),(await i.Z.get("/api/notes",{params:e})).data},refetchOnMount:!0}),B=(0,r.useMutation)({mutationFn:async e=>(await i.Z.post("/api/notes",e)).data,onSuccess:()=>{f(!1),j.invalidateQueries({queryKey:["notes"]})}}),k=(0,l.useCallback)(e=>{u(e)},[]),w=(0,l.useCallback)(e=>{d(e)},[]),S=(0,l.useCallback)(()=>{f(!0)},[]),A=(0,l.useCallback)(()=>{f(!1)},[]),q=(0,l.useCallback)(e=>{B.mutate(e)},[B]);if(y)return(0,s.jsx)("div",{className:N().loading,children:"Loading..."});if(P)return(0,s.jsx)("div",{className:N().error,children:"Error loading notes"});let O=(null==C?void 0:C.notes)||[],Q=(null==C?void 0:C.totalPages)||0;return(0,s.jsxs)("div",{className:N().container,children:[(0,s.jsxs)("div",{className:N().header,children:[(0,s.jsx)("h1",{className:N().title,children:t?"Notes: ".concat(t):"All Notes"}),(0,s.jsx)("button",{className:N().createButton,onClick:S,children:"Create Note"})]}),(0,s.jsx)("div",{className:N().controls,children:(0,s.jsx)(x,{value:c,onChange:k,placeholder:"Search notes..."})}),(0,s.jsx)("div",{className:N().notesGrid,children:O.map(e=>(0,s.jsx)(h,{note:e},e.id))}),0===O.length&&(0,s.jsx)("p",{className:N().empty,children:m?"No notes found for your search":"No notes found"}),Q>1&&(0,s.jsx)("div",{className:N().pagination,children:(0,s.jsx)(g,{currentPage:n,totalPages:Q,onPageChange:w})}),(0,s.jsx)(v,{isOpen:p,children:(0,s.jsxs)("div",{className:N().modalContent,children:[(0,s.jsxs)("div",{className:N().modalHeader,children:[(0,s.jsx)("h2",{children:"Create New Note"}),(0,s.jsx)("button",{className:N().closeButton,onClick:A,children:"\xd7"})]}),(0,s.jsx)("div",{className:N().modalBody,children:(0,s.jsx)(_,{onSubmit:q,isLoading:B.isPending})})]})})]})}},7648:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var s=n(2972),a=n.n(s)},2701:function(e){e.exports={container:"Notes_container__U4AGV",title:"Notes_title__AyW_4",notesGrid:"Notes_notesGrid__K0eoR",loading:"Notes_loading__K8gOO",error:"Notes_error__IHcjX",empty:"Notes_empty__qgQDP",filters:"Notes_filters__R725c",filterButton:"Notes_filterButton__lbLcB",filterButtonActive:"Notes_filterButtonActive__7sf_j",header:"Notes_header__k9l1A",createButton:"Notes_createButton__L_Lvw"}},299:function(e){e.exports={card:"NoteCard_card__8UkPB",title:"NoteCard_title__N36tJ",content:"NoteCard_content__GdHUh",tags:"NoteCard_tags__QgQQO",tag:"NoteCard_tag__1noUA",footer:"NoteCard_footer__Pt59J",date:"NoteCard_date__eJFNw",actions:"NoteCard_actions__Qic3x",button:"NoteCard_button__nbDcN",deleteButton:"NoteCard_deleteButton__79mwy",editButton:"NoteCard_editButton__dH3Aq",loading:"NoteCard_loading__Wat2g",error:"NoteCard_error__hTWoq"}}},function(e){e.O(0,[63,972,763,405,784,971,117,744],function(){return e(e.s=7402)}),_N_E=e.O()}]);